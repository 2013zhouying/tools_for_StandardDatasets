
## 人像语义分割数据集
飞书文档链接：[人像语义分割数据集 ](https://arashivision.feishu.cn/wiki/wikcnPx3plkKzBfP2PJdrFGZ0Ef)  


创建目的: 目前的人像分割相关公开数据集（例如COCO）存在数据量不足、标注精度不够精细、场景和公司产品有明显差异等问题，基于它们训练的模型在产品上效果不佳。因此，本数据集面向产品挑选场景，且标注比公开数据集更精细，使得基于本数据集训练的算法效果更符合产品期望。

人像分割V1（分身小程序）数据集
人像分割V1数据集目前在我司产品主要应用于小程序特效，场景通常是人物主体在开阔的场地活动。虽然照片分辨率高，但人物由于离相机有一定距离，通常占的像素不多，较为模糊。
这部分数据融合了外部数据和产品数据。外部数据来自微博，公开数据集中的部分人像图，以及视频网站Youtube。产品数据来源于Insta360社区用户分享的视频，主要由Insta360 ONE X，ONE R拍摄。从社区下载视频后，人工筛选出常见场景，抽帧为图片。采集图片按以下规则进行清洗处理：
对于人物没有在照片占主体位置的图片，使用目标检测器yolov3从中裁剪（crop）出单人的区域；
删除有明显遮挡、只有部分身体部位、存在与主体人重合、明显畸变等图像；
确保人在图像中占主体部分，人像清晰、无明显模糊、重影等；
去掉产品需求文档（人像分割-需求评估链接）中提及的不予以优化的场景。
由于精细标注的分割数据搜集、标注成本高。故分为多批次、不同来源进行搜集，并通过多种途径标注，尽可能降低人工标注成本。最早收集的街拍图片采用了removebg或凡科快图通过撰写的脚本工具进行自动标注。这种方式对街拍之外的许多图片效果不佳，标注质量不能保证。后来改为由标注员借助凡科快图和PS进行人工标注。

数据存储规范: 本数据集包含多个子数据集模块，各子集分别占一个子文件夹，且统一按mmsegmentation定义的Custom格式存储。所有人像分割子数据集文件夹命名格式为：CustomSeg_Person_<日期>_<备注>。数据集内部划分多个细分场景，以支持多种训练/测试目的。为方便检索，细分场景都提供了对应的split文本文件，它列出了该细分场景包含的所有的图片。同一张图片可以对应多个细分场景。mmsegmentation可以根据split文件读取数据。split文件存放于数据集的split_dir子文件夹。测试数据集的来源图片/视频和训练数据集相关性小，以保证测试结果有泛化意义。
 数据集文件结构如下所示：
├── Insta360SemanticSeg
│ ├── CustomSeg_Person_<date-1>_<aaa>
│ │ ├── img_dir
│ │ │ ├── train
│ │ │ │ ├── xxx.jpg
│ │ │ │ ├── yyy.jpg
│ │ │ │ ├── zzz.jpg
│ │ │ ├── val
│ │ ├── ann_dir
│ │ │ ├── train
│ │ │ │ ├── xxx.png
│ │ │ │ ├── yyy.png
│ │ │ │ ├── zzz.png
│ │ │ ├── val
│ │ ├── split_dir (optional)
│ │ │ ├── <split-1>.txt
│ │ │ ├── <split-2>.txt
│ ├── CustomSeg_Person_<date-2>_<bbb>

## 数据集介绍

<table>
    <tr>
        <th rowspan="2"> 类别 </th> 
        <th rowspan="2"> 图片数量 </th> 
        <th rowspan="2"> 整体描述 </th> 
        <th colspan="5"> 划分(split) </th>  
    </tr>
    <tr> 
        <td> 细分场景 </td>
        <td> 标注文件 </td>
        <td> 图片数量 </td>
        <td> 检测框数量 </td>
        <td> 细分描述 </td>
    </tr>
    <tr> 
        <th> person  </th>  
        <th> 5715 </th> 
        <th> Youtube社区视频抽帧清洗后，人工PS标注或凡科快图辅助标注。采集以下情况： 小孩的视频，走路，奔跑等不限，小孩游乐场，家中等场景；各种公园，小区花园，草地，绿色植被（如树林，芦苇，竹林）等为场景；格斗，舞蹈，跳跃，身体大幅度动作等人体运动场景；山脉，沙漠，雪山，积雪，黄色土地，瀑布，沙滩，海滩，游泳池，海边，水库等为背景；篮球运球、三步上篮； 足球场带球、射门； 飞盘运动奔跑等运动场景；骑车头盔，草帽，口罩，围巾，帽子等佩戴物；各种颜色（灰色/红色等）墙面背景，各种涂鸦墙面，尤其颜色鲜艳的，如红色，蓝色，黄色等为背景；黑人，白人等视频。PS:除分身采集第一批八种标注情形外（1-8），此部分数据还包含院长提出的翻跟斗场景等视频抽帧图像  </th> 
        <th> train  </th> 
        <th> train.txt  </th>  
        <th> 5715 </th> 
        <th> 754 x 553  </th> 
        <th> 子数据集全部训练样本  </th>   
    </tr>
</table>
